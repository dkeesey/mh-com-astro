---
import MainHead from "./MainHead.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import FontLoader from "../components/FontLoader.astro";
import PersistentDonateButton from "../components/PersistentDonateButton.astro";

interface Props {
  title?: string;
  description?: string;
  type?: 'website' | 'article';
  image?: string;
  keywords?: string[];
  classes?: string;
}

const { title, description, type, image, keywords, classes = "" } = Astro.props;
---

<html lang="en">
  <head>
    <MainHead title={title} description={description} type={type} image={image} keywords={keywords}>
      <FontLoader />
      <!-- PhotoSwipe CSS -->
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@5.4.4/dist/photoswipe.css" />
    </MainHead>
  </head>
  <body class="bg-white text-fa-text-secondary font-inter min-h-screen">
    <div class={`flex flex-col min-h-screen ${classes}`}>
      <Header />
      <main class="flex-grow">
        <slot> Default text for unnamed slot </slot>
      </main>
      <Footer class="mt-auto" />
    </div>
    <PersistentDonateButton />

    <!-- PhotoSwipe initialization -->
    <script>
      import '../scripts/photoswipe-init.ts';
    </script>
  </body>
</html>
