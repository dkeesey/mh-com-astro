---
import FamilyAlbumLayout from "@layouts/FamilyAlbumLayout.astro";
import { Image } from 'astro:assets';
import FamilyAlbumIntro from "@components/FamilyAlbumIntro.astro";
import PhotographersGrid from "@components/PhotographersGrid.astro";
import ContrabandSection from "@components/ContrabandSection.astro";
import InterneePhotographerSection from "@components/InterneePhotographerSection.astro";
import AmateurPhotographerSection from "@components/AmateurPhotographerSection.astro";
import VisitorsSection from "@components/VisitorsSection.astro";
import CanadianIncarcerationSection from "@components/CanadianIncarcerationSection.astro";
import Breadcrumb from '@components/Breadcrumb.astro';
import ExhibitionInfo from '@components/ExhibitionInfo.astro';
import TableOfContentsWrapper from '@components/TableOfContentsWrapper.astro';
import AudioPlayer from "@components/audio-player";
import installPic1 from '@images/family-album/installation/install-pic1.jpg';
import installPic3 from '@images/family-album/installation/install-pic3.jpg';

const sections = [
  { id: 'introduction', title: 'Introduction' },
  { id: 'exhibition-views', title: 'Exhibition Views' },
  { id: 'contraband', title: 'Contraband' },
  { id: 'internee-photographers', title: 'Internee Photographers' },
  { id: 'amateur-photographers', title: 'Amateur Photographers' },
  { id: 'visitors', title: 'Visitors' },
  { id: 'canadian-incarceration', title: 'Canadian Incarceration' },
  { id: 'about', title: 'About the Exhibition' },
];

const audioFiles = [
  {
    title: "Interview 1",
    src: "/audio/JACCampsMP3/camps.01.mp3",
    oggSrc: "/audio/JACCampsOgg/camps.01.ogg",
    excerpt: "All American Boy...",
  },
  {
    title: "Interview 2",
    src: "/audio/JACCampsMP3/camps.02.mp3",
    oggSrc: "/audio/JACCampsOgg/camps.02.ogg",
    excerpt: "Angry Man...",
  },
  {
    title: "Interview 3",
    src: "/audio/JACCampsMP3/camps.03.mp3",
    oggSrc: "/audio/JACCampsOgg/camps.03.ogg",
    excerpt: "What would you do if we deported you?",
  },
  {
    title: "Interview 4",
    src: "/audio/JACCampsMP3/camps.04.mp3",
    oggSrc: "/audio/JACCampsOgg/camps.04.ogg",
    excerpt: "Everyone just believed in the government...",
  },
  {
    title: "Interview 5",
    src: "/audio/JACCampsMP3/camps.05.mp3",
    oggSrc: "/audio/JACCampsOgg/camps.05.ogg",
    excerpt: "We are American citizens and had nothing to do with Pearl Harbor",
  },
  {
    title: "Interview 6",
    src: "/audio/JACCampsMP3/camps.06.mp3",
    oggSrc: "/audio/JACCampsOgg/camps.06.ogg",
    excerpt: "We were being treated like the enemy...",
  },
  {
    title: "Interview 7",
    src: "/audio/JACCampsMP3/camps.07.mp3",
    oggSrc: "/audio/JACCampsOgg/camps.07.ogg",
    excerpt: "No future for my children?...",
  },
  {
    title: "Interview 8",
    src: "/audio/JACCampsMP3/camps.08.mp3",
    oggSrc: "/audio/JACCampsOgg/camps.08.ogg",
    excerpt: "Rehabilitation",
  },
  {
    title: "Interview 9",
    src: "/audio/JACCampsMP3/camps.09.mp3",
    oggSrc: "/audio/JACCampsOgg/camps.09.ogg",
    excerpt: "If I can get through that...",
  },
];
---

<FamilyAlbumLayout title="Family Album Project" description="A collection of photographs and stories from Japanese American internment camps">
  <div class="relative">
    <TableOfContentsWrapper sections={sections} />
    
    {/* Audio Player */}
    <div class="fixed top-[72px] right-4 z-50">
      <AudioPlayer
        audioFiles={audioFiles.map(file => ({ 
          title: file.title,
          url: file.src,
          excerpt: file.excerpt 
        }))}
        variant="horizontal"
        className="w-[400px]"
        client:load
      />
    </div>
    
    <main class="max-w-4xl mx-auto px-4 py-8 relative">
      <div class="mb-16">
        <Breadcrumb
          items={[
            { label: "Home", href: "/" },
            { label: "Family Album Project", href: "/family-album-project", current: true }
          ]}
        />
      </div>

      <!-- Introduction -->
      <section id="introduction">
        <FamilyAlbumIntro />
      </section>

      <!-- Exhibition Images -->
      <section id="exhibition-views" class="mt-16">
        <h2 class="text-3xl font-light mb-8">Exhibition Views</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
          <div>
            <Image 
              src={installPic1}
              alt="Installation view of the Family Album Project"
              class="w-full h-auto rounded-lg shadow-lg"
            />
            <p class="mt-2 text-sm text-gray-300 italic">Cleveland State University Art Gallery, March 1996, Installation View</p>
          </div>
          <div>
            <Image 
              src={installPic3}
              alt="Installation view: CONTRABAND: THE CAMERA, THE PHOTOGRAPH, THE FAMILY ALBUM"
              class="w-full h-auto rounded-lg shadow-lg"
            />
            <p class="mt-2 text-sm text-gray-300 italic">Installation Detail: CONTRABAND: THE CAMERA, THE PHOTOGRAPH, THE FAMILY ALBUM</p>
          </div>
        </div>
      </section>

      <!-- Content Sections -->
      <section id="contraband" class="mt-16">
        <ContrabandSection />
      </section>
      <section id="internee-photographers" class="mt-16">
        <InterneePhotographerSection />
      </section>
      <section id="amateur-photographers" class="mt-16">
        <AmateurPhotographerSection />
      </section>
      <section id="visitors" class="mt-16">
        <VisitorsSection />
      </section>
      <section id="canadian-incarceration" class="mt-16">
        <CanadianIncarcerationSection />
      </section>

      <div class="mt-16">
        <PhotographersGrid />
      </div>

      <!-- Exhibition Info -->
      <section id="about" class="mt-16">
        <ExhibitionInfo />
      </section>
    </main>
  </div>
</FamilyAlbumLayout>
